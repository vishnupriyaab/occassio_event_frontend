{
  "version": 3,
  "sources": ["../../../../../../node_modules/ngx-socket-io/fesm2022/ngx-socket-io.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { InjectionToken, NgModule } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport * as ioModule from 'socket.io-client';\nclass WrappedSocket {\n  config;\n  subscribersCounter = {};\n  eventObservables$ = {};\n  namespaces = {};\n  ioSocket;\n  emptyConfig = {\n    url: '',\n    options: {}\n  };\n  constructor(config) {\n    this.config = config;\n    if (config === undefined) {\n      config = this.emptyConfig;\n    }\n    const url = config.url;\n    const options = config.options;\n    const ioFunc = ioModule.default ? ioModule.default : ioModule;\n    this.ioSocket = ioFunc(url, options);\n  }\n  get auth() {\n    return this.ioSocket.auth;\n  }\n  set auth(value) {\n    this.ioSocket.auth = value;\n  }\n  /** readonly access to io manager */\n  get io() {\n    return this.ioSocket.io;\n  }\n  /** alias to connect */\n  get open() {\n    return this.connect;\n  }\n  /** alias to disconnect */\n  get close() {\n    return this.disconnect;\n  }\n  /**\n   * Gets a WrappedSocket for the given namespace.\n   *\n   * @note if an existing socket exists for the given namespace, it will be reused.\n   *\n   * @param namespace the namespace to create a new socket based on the current config.\n   *        If empty or `/`, then the current instance is returned.\n   * @returns a socket that is bound to the given namespace. If namespace is empty or `/`,\n   *          then `this` is returned, otherwise another instance is returned, creating\n   *          it if it's the first use of such namespace.\n   */\n  of(namespace) {\n    if (!namespace || namespace === '/') {\n      return this;\n    }\n    const existing = this.namespaces[namespace];\n    if (existing) {\n      return existing;\n    }\n    const {\n      url,\n      ...rest\n    } = this.config;\n    const config = {\n      url: !url.endsWith('/') && !namespace.startsWith('/') ? `${url}/${namespace}` : `${url}${namespace}`,\n      ...rest\n    };\n    const created = new WrappedSocket(config);\n    this.namespaces[namespace] = created;\n    return created;\n  }\n  on(eventName, callback) {\n    this.ioSocket.on(eventName, callback);\n    return this;\n  }\n  once(eventName, callback) {\n    this.ioSocket.once(eventName, callback);\n    return this;\n  }\n  connect() {\n    this.ioSocket.connect();\n    return this;\n  }\n  disconnect() {\n    this.ioSocket.disconnect();\n    return this;\n  }\n  emit(_eventName, ..._args) {\n    this.ioSocket.emit.apply(this.ioSocket, arguments);\n    return this;\n  }\n  send(..._args) {\n    this.ioSocket.send.apply(this.ioSocket, arguments);\n    return this;\n  }\n  emitWithAck(_eventName, ..._args) {\n    return this.ioSocket.emitWithAck.apply(this.ioSocket, arguments);\n  }\n  removeListener(_eventName, _callback) {\n    this.ioSocket.removeListener.apply(this.ioSocket, arguments);\n    return this;\n  }\n  removeAllListeners(_eventName) {\n    this.ioSocket.removeAllListeners.apply(this.ioSocket, arguments);\n    return this;\n  }\n  fromEvent(eventName) {\n    if (!this.subscribersCounter[eventName]) {\n      this.subscribersCounter[eventName] = 0;\n    }\n    this.subscribersCounter[eventName]++;\n    if (!this.eventObservables$[eventName]) {\n      this.eventObservables$[eventName] = new Observable(observer => {\n        const listener = data => {\n          observer.next(data);\n        };\n        this.ioSocket.on(eventName, listener);\n        return () => {\n          this.subscribersCounter[eventName]--;\n          if (this.subscribersCounter[eventName] === 0) {\n            this.ioSocket.removeListener(eventName, listener);\n            delete this.eventObservables$[eventName];\n          }\n        };\n      }).pipe(share());\n    }\n    return this.eventObservables$[eventName];\n  }\n  fromOneTimeEvent(eventName) {\n    return new Promise(resolve => this.once(eventName, resolve));\n  }\n  listeners(eventName) {\n    return this.ioSocket.listeners(eventName);\n  }\n  hasListeners(eventName) {\n    return this.ioSocket.hasListeners(eventName);\n  }\n  listenersAny() {\n    return this.ioSocket.listenersAny();\n  }\n  listenersAnyOutgoing() {\n    return this.ioSocket.listenersAnyOutgoing();\n  }\n  off(eventName, listener) {\n    this.ioSocket.off(eventName, listener);\n    return this;\n  }\n  offAny(callback) {\n    this.ioSocket.offAny(callback);\n    return this;\n  }\n  offAnyOutgoing(callback) {\n    this.ioSocket.offAnyOutgoing(callback);\n    return this;\n  }\n  onAny(callback) {\n    this.ioSocket.onAny(callback);\n    return this;\n  }\n  onAnyOutgoing(callback) {\n    this.ioSocket.onAnyOutgoing(callback);\n    return this;\n  }\n  prependAny(callback) {\n    this.ioSocket.prependAny(callback);\n    return this;\n  }\n  prependAnyOutgoing(callback) {\n    this.ioSocket.prependAnyOutgoing(callback);\n    return this;\n  }\n  timeout(value) {\n    this.ioSocket.timeout(value);\n    return this;\n  }\n  get volatile() {\n    // this getter has a side-effect of turning the socket instance true,\n    // but it returns the actual instance, so we need to get the value to force the side effect\n    const _ = this.ioSocket.volatile;\n    return this;\n  }\n  get active() {\n    return this.ioSocket.active;\n  }\n  get connected() {\n    return this.ioSocket.connected;\n  }\n  get disconnected() {\n    return this.ioSocket.disconnected;\n  }\n  get recovered() {\n    return this.ioSocket.recovered;\n  }\n  get id() {\n    return this.ioSocket.id;\n  }\n  compress(value) {\n    this.ioSocket.compress(value);\n    return this;\n  }\n}\n\n/** Socket factory */\nfunction SocketFactory(config) {\n  return new WrappedSocket(config);\n}\nconst SOCKET_CONFIG_TOKEN = new InjectionToken('__SOCKET_IO_CONFIG__');\nclass SocketIoModule {\n  static forRoot(config) {\n    return {\n      ngModule: SocketIoModule,\n      providers: [{\n        provide: SOCKET_CONFIG_TOKEN,\n        useValue: config\n      }, {\n        provide: WrappedSocket,\n        useFactory: SocketFactory,\n        deps: [SOCKET_CONFIG_TOKEN]\n      }]\n    };\n  }\n  static ɵfac = function SocketIoModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || SocketIoModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SocketIoModule\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SocketIoModule, [{\n    type: NgModule,\n    args: [{}]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { SOCKET_CONFIG_TOKEN, WrappedSocket as Socket, SocketIoModule };\n"],
  "mappings": "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",
  "names": []
}
